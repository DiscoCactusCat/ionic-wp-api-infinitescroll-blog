<ion-header>
  <ion-toolbar>
    <ion-title>Account</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngIf="!(user|async) else userAccount">
    <ion-card-content>
      <form [formGroup]="userForm" (ngSubmit)="login()">
        <ion-item>
          <ion-label position="floating" >Username</ion-label>
          <ion-input
            formControlName="username"
            type="text"
            placeholder="Your Username"
          ></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Password</ion-label>
          <ion-input
            formControlName="password"
            type="password"
            placeholder="Your password"
          ></ion-input>
        </ion-item>

        <ion-button type="submit" expand="block" >
          Login
        </ion-button>
      </form>
    </ion-card-content>
  </ion-card>

  <ng-template #userAccount>
    <ion-card>
      <ion-card-content>
        <h1>Bienvenue {{user}}</h1>
      </ion-card-content>
      <ion-button (click)="logout()" expand="block" fill="clear" shape="round">
        Logout
      </ion-button>
    </ion-card>



  </ng-template>

</ion-content>
